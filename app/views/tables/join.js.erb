// Remove join table form from table show
$('.table_show .joinTable .join').remove();
// Insert leave form
$('.table_show .leave_table').html(
  '<%= j render partial: "tables/leave_table" %>');
// Insert user seat table show
$('.table_show .seats').append('<%= j render partial: "seats/user_seat", 
  object: current_user, as: :user %>');
// Remove join table form from explore
$('.tables #table_' + <%= @table.id %> + ' .join').remove();
// Insert user seat from explore
$('.tables #table_' + <%= @table.id %> + ' .seats').append(
  '<%= j render partial: "seats/seat", object: @seat, 
    locals: { seat: @seat } %>');
// Update People sitting count
$('.seats h1 span').text(
  '<%= @table.seats.size %> out of <%= @table.max_seats %>');

$('.lazy').lazyload({
  failure_limit: 50,
  skip_invisible: false
});
$('.lazyLoad').lazyload({
  event: 'load',
  failure_limit: 50
});

$('.link').click(function() {
  if ($(this).attr('href')) {
    window.location = $(this).attr('href');
  };
});